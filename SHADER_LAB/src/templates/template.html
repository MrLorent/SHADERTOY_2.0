<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <title>SHADER LAB</title>
</head>
<body>
    <header>
        <h1>SHADER LAB</h1>
    </header>
    <main>
        <section id="application">
            <div id="interactive_window">
                <div id="navigation_panel"></div>
                <div class="container">
                    <div class="input_container"></div>
                    <div id="editor_container">
                        <div class="editor_scroll_window">
                            <div id="code_editor"></div>
                        </div>
                        <div id="code_editor_panel">
                            <div id="console">Bonjour je suis la console de débug</div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="visual_window">
                <div class="input_container light"></div>
                <canvas id="webgl_canvas"></canvas>
                <div class="input_container scene"></div>
            </div>
        </section>
        <section id="documentation">
            <div class="doc_container">
                <h2 class="doc_main_title">All you need to know to create your wonderful shader !</h2>
                <!-- <p>This page Cette page d'aide couvre uniquement les parties de GLSL ES pertinentes pour Shadertoy. Pour la documentation complète, veuillez vous référer à la <a href="https://www.khronos.org/registry/OpenGL/specs/es/3.0/GLSL_ES_Specification_3.00.pdf">spécification GLSL ES</a></p> -->
                <hr>
                <h3 class="doc_title">Scenes</h3>
                <table>
                    <thead>
                        <tr>
                            <th>SCENE 1</th>
                            <th>SCENE 2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>box1</td>
                            <td>sphere1</td>
                        </tr>
                        <tr>
                            <td>sphere1</td>
                            <td>sphere2</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>sphere3</td>
                        </tr>
                    </tbody>
                </table>

                <h4>Objects</h4>
                <p>Box</p>
                <ul class="structure">
                    <li>
                        <span class="type">vec3</span>
                        <span class="name">origin</span>
                    </li>
                        <span class="type">vec3</span>
                        <span class="name">dimensions (depth, width, height)</span>
                    </li>
                    <li>
                        <span class="type">Material</span>
                        <span class="name">mat</span>
                    </li>
                </ul>

                <p>Sphere</p>
                <ul class="structure">
                    <li>
                        <span class="type">vec3</span>
                        <span class="name">origin</span>
                    </li>
                        <span class="type">float</span>
                        <span class="name">radius</span>
                    </li>
                    <li>
                        <span class="type">Material</span>
                        <span class="name">mat</span>
                    </li>
                </ul>

                <h4>How to access object attributes ?</h4>
                <p>name_object.attribute = value;</p>
                <div class="example"><p><b>ex : </b>box1.origin = vec3(1,1,5);</p></div>

                <h4 class="commentary">If you change an object position, be careful ! The camera points at the position (0,1,5).. Plus, be aware that the x axis is inverted...</h4>

                <h4>And for materials ?</h4>
                <p>Material</p>
                <ul class="structure">
                    <li>
                        <span class="type">vec3</span>
                        <span class="name">base_color</span>
                    </li>
                        <span class="type">float</span>
                        <span class="name">kd</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">ks</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">shininess</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">subsurface</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">metallic</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">specularTint</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">roughness</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">anisotropic</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">sheen</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">sheenTint</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">clearcoat</span>
                    </li>
                    <li>
                        <span class="type">float</span>
                        <span class="name">clearcoatGloss</span>
                    </li>
                </ul>

                <div class="example"><p> <b>ex : </b>sphere1.mat.base_color = vec3(1,0,0);</p></div>


                <hr>
                <h3 class="doc_title">Lights</h3>

                <table>
                    <thead>
                        <tr>
                            <th>LIGHT PRESET 1</th>
                            <th>LIGHT PRESET 2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>light1 (white)</td>
                            <td>light1 (red)</td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>light2 (green)</td>
                        </tr>
                    </tbody>
                </table>

                <p>Light</p>
                <ul class="structure">
                    <li>
                        <span class="type">vec3</span>
                        <span class="name">pos (position)</span>
                    </li>
                        <span class="type">vec3</span>
                        <span class="name">col (color)</span>
                    </li>
                    <li>
                        <span class="type">vec3</span>
                        <span class="name">vector (direction)</span>
                    </li>
                </ul>

                <p>If you want to change light parameters, just use inputs ! To have acces to them :</p>
                <div class="example"><p><b>ex : </b> vec3 light_position = light1.pos;</p></div>

                <hr>
                <h3 class="doc_title">How to create an input ?</h3>

                <p>Light</p>
                <ul>
                    <li>
                        <p><b>color_picker</b></p>
                        <p>/// color_picker scene uColor color</p>
                        <p>result : uniform vec3 uColor[N_MATERIALS]</p>
                    </li>
                    <li>
                        <p><b>slider</b></p>
                        <p>/// slider scene uName name min max step</p>
                    </li>
                </ul>
                <div class="example"><p><b>ex : </b>/// slider scene uPosX posX 0 1 0.1</p>
                    <p>result : uniform float uPosX[N_MATERIALS]</p></div>

                <h4>How to use an input in your code :</h4>
                <div class="example">
                    <p><b>ex : </b> /// color_picker scene uColor color</p>
                    <p>result : uniform vec3 uColor[N_MATERIALS]</p></p>
                    <p>vec3 Model_Illumination(in vec3 ray_position, in vec3 ray_origin, in Material hit_object) {<br>  sphere1.mat.base_color = uColor[1];<br> return hit_object.base_color;}</p>
                </div>

                <h4>N_MATERIALS explanation</h4>
                <p>N_MATERIALS represents the total number of materials in the scene. In scene 1, you can access to 2 materials and in scene 2 you can access 3 materials.</p>

 <table>
                    <thead>
                        <tr>
                            <th>N_MATERIALS</th>
                            <th>SCENE 1</th>
                            <th>SCENE 2</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>0</td>
                            <td>box1</td>
                            <td>sphere1</td>
                        </tr>
                        <tr>
                            <td>1</td>
                            <td>sphere1</td>
                            <td>sphere2</td>
                        </tr>
                        <tr>
                            <td>2</td>
                            <td>x</td>
                            <td>sphere3</td>
                        </tr>
                        <tr>
                            <td>3</td>
                            <td>x</td>
                            <td>x</td>
                        </tr>
                        <tr>
                            <td>4</td>
                            <td>x</td>
                            <td>x</td>
                        </tr>
                        <tr>
                            <td>5</td>
                            <td>white wall</td>
                            <td>white wall</td>
                        </tr>
                        <tr>
                            <td>6</td>
                            <td>green wall</td>
                            <td>green wall</td>
                        </tr>
                        <tr>
                            <td>7</td>
                            <td>red wall</td>
                            <td>red wall</td>
                        </tr>
                    </tbody>
                </table>

                <p>The input created are linked to this indexes, for example if you want the box1 parameter in a uColor input you created, uColor[0] is what you are looking for!</p>

                <hr>
                <h3 class="doc_title">What is hit_object ?</h3>
                <p>hit_object contains the material of the intersected object (ie : the material of the first object that the ray intersects)</p>

                <hr>
                <div class="final_example">
                    <h3 class="doc_title">Example of a simple code</h3>
                    <p>If you want to use flat painting on the first scene preset and move the sphere on y axis, for example, you can try this :</p>
                    <p>/// color_picker scene uColors colors
                    <br>/// slider scene uSpherePositionY sphere_position_y 0 1 0.1
                    <br>vec3 Model_Illumination(in vec3 ray_position, in vec3 ray_origin,in Material hit_object){
                    <br>box1.mat.base_color = uColors[0];
                    <br>sphere1.mat.base_color = uColors[1];
                    <br>sphere1.origin = vec3(-1,uSpherePositionY[1],5);
                    <br>return hit_object.base_color;}
                </div>
            </div>
        
        </section>
    </main>
</body>
</html>